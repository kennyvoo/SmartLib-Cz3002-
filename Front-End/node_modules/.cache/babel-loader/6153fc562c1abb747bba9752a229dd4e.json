{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Script = function (_React$Component) {\n  _inherits(Script, _React$Component); // A dictionary mapping script URL to a boolean value indicating if the script\n  // has failed to load.\n  // A dictionary mapping script URLs to a dictionary mapping\n  // component key to component for all components that are waiting\n  // for the script to load.\n\n\n  function Script(props) {\n    _classCallCheck(this, Script);\n\n    var _this = _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).call(this, props));\n\n    _this.scriptLoaderId = 'id' + _this.constructor.idCount++; // eslint-disable-line space-unary-ops, no-plusplus\n\n    return _this;\n  } // A counter used to generate a unique id for each component that uses\n  // ScriptLoaderMixin.\n  // A dictionary mapping script URL to a boolean value indicating if the script\n  // has already been loaded.\n\n\n  _createClass(Script, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          onError = _props.onError,\n          onLoad = _props.onLoad,\n          url = _props.url;\n\n      if (this.constructor.loadedScripts[url]) {\n        onLoad();\n        return;\n      }\n\n      if (this.constructor.erroredScripts[url]) {\n        onError();\n        return;\n      } // If the script is loading, add the component to the script's observers\n      // and return. Otherwise, initialize the script's observers with the component\n      // and start loading the script.\n\n\n      if (this.constructor.scriptObservers[url]) {\n        this.constructor.scriptObservers[url][this.scriptLoaderId] = this.props;\n        return;\n      }\n\n      this.constructor.scriptObservers[url] = _defineProperty({}, this.scriptLoaderId, this.props);\n      this.createScript();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var url = this.props.url;\n      var observers = this.constructor.scriptObservers[url]; // If the component is waiting for the script to load, remove the\n      // component from the script's observers before unmounting the component.\n\n      if (observers) {\n        delete observers[this.scriptLoaderId];\n      }\n    }\n  }, {\n    key: 'createScript',\n    value: function createScript() {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          onCreate = _props2.onCreate,\n          url = _props2.url,\n          attributes = _props2.attributes;\n      var script = document.createElement('script');\n      onCreate(); // add 'data-' or non standard attributes to the script tag\n\n      if (attributes) {\n        Object.keys(attributes).forEach(function (prop) {\n          return script.setAttribute(prop, attributes[prop]);\n        });\n      }\n\n      script.src = url; // default async to true if not set with custom attributes\n\n      if (!script.hasAttribute('async')) {\n        script.async = 1;\n      }\n\n      var callObserverFuncAndRemoveObserver = function callObserverFuncAndRemoveObserver(shouldRemoveObserver) {\n        var observers = _this2.constructor.scriptObservers[url];\n        Object.keys(observers).forEach(function (key) {\n          if (shouldRemoveObserver(observers[key])) {\n            delete _this2.constructor.scriptObservers[url][_this2.scriptLoaderId];\n          }\n        });\n      };\n\n      script.onload = function () {\n        _this2.constructor.loadedScripts[url] = true;\n        callObserverFuncAndRemoveObserver(function (observer) {\n          observer.onLoad();\n          return true;\n        });\n      };\n\n      script.onerror = function () {\n        _this2.constructor.erroredScripts[url] = true;\n        callObserverFuncAndRemoveObserver(function (observer) {\n          observer.onError();\n          return true;\n        });\n      };\n\n      document.body.appendChild(script);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Script;\n}(_react2.default.Component);\n\nScript.propTypes = {\n  attributes: _propTypes.PropTypes.object,\n  // eslint-disable-line react/forbid-prop-types\n  onCreate: _propTypes.PropTypes.func,\n  onError: _propTypes.PropTypes.func.isRequired,\n  onLoad: _propTypes.PropTypes.func.isRequired,\n  url: _propTypes.PropTypes.string.isRequired\n};\nScript.defaultProps = {\n  attributes: {},\n  onCreate: function onCreate() {},\n  onError: function onError() {},\n  onLoad: function onLoad() {}\n};\nScript.scriptObservers = {};\nScript.loadedScripts = {};\nScript.erroredScripts = {};\nScript.idCount = 0;\nexports.default = Script;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["D:/Projects/CZ3002-Lab-SmartLib/CZ3002_Xeon/Front-End/node_modules/react-load-script/lib/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","obj","__esModule","default","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Script","_React$Component","_this","getPrototypeOf","scriptLoaderId","idCount","componentDidMount","_props","onError","onLoad","url","loadedScripts","erroredScripts","scriptObservers","createScript","componentWillUnmount","observers","_this2","_props2","onCreate","attributes","script","document","createElement","keys","forEach","prop","setAttribute","src","hasAttribute","async","callObserverFuncAndRemoveObserver","shouldRemoveObserver","onload","observer","onerror","body","appendChild","render","Component","propTypes","PropTypes","object","func","isRequired","string","defaultProps","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_React$Component) {\n  _inherits(Script, _React$Component);\n\n  // A dictionary mapping script URL to a boolean value indicating if the script\n  // has failed to load.\n\n\n  // A dictionary mapping script URLs to a dictionary mapping\n  // component key to component for all components that are waiting\n  // for the script to load.\n  function Script(props) {\n    _classCallCheck(this, Script);\n\n    var _this = _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).call(this, props));\n\n    _this.scriptLoaderId = 'id' + _this.constructor.idCount++; // eslint-disable-line space-unary-ops, no-plusplus\n    return _this;\n  }\n\n  // A counter used to generate a unique id for each component that uses\n  // ScriptLoaderMixin.\n\n\n  // A dictionary mapping script URL to a boolean value indicating if the script\n  // has already been loaded.\n\n\n  _createClass(Script, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          onError = _props.onError,\n          onLoad = _props.onLoad,\n          url = _props.url;\n\n\n      if (this.constructor.loadedScripts[url]) {\n        onLoad();\n        return;\n      }\n\n      if (this.constructor.erroredScripts[url]) {\n        onError();\n        return;\n      }\n\n      // If the script is loading, add the component to the script's observers\n      // and return. Otherwise, initialize the script's observers with the component\n      // and start loading the script.\n      if (this.constructor.scriptObservers[url]) {\n        this.constructor.scriptObservers[url][this.scriptLoaderId] = this.props;\n        return;\n      }\n\n      this.constructor.scriptObservers[url] = _defineProperty({}, this.scriptLoaderId, this.props);\n\n      this.createScript();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var url = this.props.url;\n\n      var observers = this.constructor.scriptObservers[url];\n\n      // If the component is waiting for the script to load, remove the\n      // component from the script's observers before unmounting the component.\n      if (observers) {\n        delete observers[this.scriptLoaderId];\n      }\n    }\n  }, {\n    key: 'createScript',\n    value: function createScript() {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          onCreate = _props2.onCreate,\n          url = _props2.url,\n          attributes = _props2.attributes;\n\n      var script = document.createElement('script');\n\n      onCreate();\n\n      // add 'data-' or non standard attributes to the script tag\n      if (attributes) {\n        Object.keys(attributes).forEach(function (prop) {\n          return script.setAttribute(prop, attributes[prop]);\n        });\n      }\n\n      script.src = url;\n\n      // default async to true if not set with custom attributes\n      if (!script.hasAttribute('async')) {\n        script.async = 1;\n      }\n\n      var callObserverFuncAndRemoveObserver = function callObserverFuncAndRemoveObserver(shouldRemoveObserver) {\n        var observers = _this2.constructor.scriptObservers[url];\n        Object.keys(observers).forEach(function (key) {\n          if (shouldRemoveObserver(observers[key])) {\n            delete _this2.constructor.scriptObservers[url][_this2.scriptLoaderId];\n          }\n        });\n      };\n      script.onload = function () {\n        _this2.constructor.loadedScripts[url] = true;\n        callObserverFuncAndRemoveObserver(function (observer) {\n          observer.onLoad();\n          return true;\n        });\n      };\n\n      script.onerror = function () {\n        _this2.constructor.erroredScripts[url] = true;\n        callObserverFuncAndRemoveObserver(function (observer) {\n          observer.onError();\n          return true;\n        });\n      };\n\n      document.body.appendChild(script);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Script;\n}(_react2.default.Component);\n\nScript.propTypes = {\n  attributes: _propTypes.PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  onCreate: _propTypes.PropTypes.func,\n  onError: _propTypes.PropTypes.func.isRequired,\n  onLoad: _propTypes.PropTypes.func.isRequired,\n  url: _propTypes.PropTypes.string.isRequired\n};\nScript.defaultProps = {\n  attributes: {},\n  onCreate: function onCreate() {},\n  onError: function onError() {},\n  onLoad: function onLoad() {} };\nScript.scriptObservers = {};\nScript.loadedScripts = {};\nScript.erroredScripts = {};\nScript.idCount = 0;\nexports.default = Script;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}