{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StyleSheet = StyleSheet;\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n/* \n\nhigh performance StyleSheet for css-in-js systems \n\n- uses multiple style tags behind the scenes for millions of rules \n- uses `insertRule` for appending in production for *much* faster performance\n- 'polyfills' on server side \n\n\n// usage\n\nimport StyleSheet from 'glamor/lib/sheet'\nlet styleSheet = new StyleSheet()\n\nstyleSheet.inject() \n- 'injects' the stylesheet into the page (or into memory if on server)\n\nstyleSheet.insert('#box { border: 1px solid red; }') \n- appends a css rule into the stylesheet \n\nstyleSheet.flush() \n- empties the stylesheet of all its contents\n\n\n*/\n\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    return tag.sheet;\n  } // this weirdness brought to you by firefox \n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      return document.styleSheets[i];\n    }\n  }\n}\n\nvar isBrowser = typeof window !== 'undefined';\nvar isDev = process.env.NODE_ENV === 'development' || !process.env.NODE_ENV; //(x => (x === 'development') || !x)(process.env.NODE_ENV)\n\nvar isTest = process.env.NODE_ENV === 'test';\n\nvar oldIE = function () {\n  if (isBrowser) {\n    var div = document.createElement('div');\n    div.innerHTML = '<!--[if lt IE 10]><i></i><![endif]-->';\n    return div.getElementsByTagName('i').length === 1;\n  }\n}();\n\nfunction makeStyleTag() {\n  var tag = document.createElement('style');\n  tag.type = 'text/css';\n  tag.setAttribute('data-glamor', '');\n  tag.appendChild(document.createTextNode(''));\n  (document.head || document.getElementsByTagName('head')[0]).appendChild(tag);\n  return tag;\n}\n\nfunction StyleSheet() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$speedy = _ref.speedy,\n      speedy = _ref$speedy === undefined ? !isDev && !isTest : _ref$speedy,\n      _ref$maxLength = _ref.maxLength,\n      maxLength = _ref$maxLength === undefined ? isBrowser && oldIE ? 4000 : 65000 : _ref$maxLength;\n\n  this.isSpeedy = speedy; // the big drawback here is that the css won't be editable in devtools\n\n  this.sheet = undefined;\n  this.tags = [];\n  this.maxLength = maxLength;\n  this.ctr = 0;\n}\n\n(0, _objectAssign2.default)(StyleSheet.prototype, {\n  getSheet: function getSheet() {\n    return sheetForTag(last(this.tags));\n  },\n  inject: function inject() {\n    var _this = this;\n\n    if (this.injected) {\n      throw new Error('already injected stylesheet!');\n    }\n\n    if (isBrowser) {\n      this.tags[0] = makeStyleTag();\n    } else {\n      // server side 'polyfill'. just enough behavior to be useful.\n      this.sheet = {\n        cssRules: [],\n        insertRule: function insertRule(rule) {\n          // enough 'spec compliance' to be able to extract the rules later  \n          // in other words, just the cssText field \n          _this.sheet.cssRules.push({\n            cssText: rule\n          });\n        }\n      };\n    }\n\n    this.injected = true;\n  },\n  speedy: function speedy(bool) {\n    if (this.ctr !== 0) {\n      throw new Error('cannot change speedy mode after inserting any rule to sheet. Either call speedy(' + bool + ') earlier in your app, or call flush() before speedy(' + bool + ')');\n    }\n\n    this.isSpeedy = !!bool;\n  },\n  _insert: function _insert(rule) {\n    // this weirdness for perf, and chrome's weird bug \n    // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n    try {\n      var sheet = this.getSheet();\n      sheet.insertRule(rule, rule.indexOf('@import') !== -1 ? 0 : sheet.cssRules.length);\n    } catch (e) {\n      if (isDev) {\n        // might need beter dx for this \n        console.warn('whoops, illegal rule inserted', rule); //eslint-disable-line no-console\n      }\n    }\n  },\n  insert: function insert(rule) {\n    if (isBrowser) {\n      // this is the ultrafast version, works across browsers \n      if (this.isSpeedy && this.getSheet().insertRule) {\n        this._insert(rule);\n      } // more browser weirdness. I don't even know    \n      // else if(this.tags.length > 0 && this.tags::last().styleSheet) {      \n      //   this.tags::last().styleSheet.cssText+= rule\n      // }\n      else {\n          if (rule.indexOf('@import') !== -1) {\n            var tag = last(this.tags);\n            tag.insertBefore(document.createTextNode(rule), tag.firstChild);\n          } else {\n            last(this.tags).appendChild(document.createTextNode(rule));\n          }\n        }\n    } else {\n      // server side is pretty simple         \n      this.sheet.insertRule(rule, rule.indexOf('@import') !== -1 ? 0 : this.sheet.cssRules.length);\n    }\n\n    this.ctr++;\n\n    if (isBrowser && this.ctr % this.maxLength === 0) {\n      this.tags.push(makeStyleTag());\n    }\n\n    return this.ctr - 1;\n  },\n  // commenting this out till we decide on v3's decision \n  // _replace(index, rule) {\n  //   // this weirdness for perf, and chrome's weird bug \n  //   // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n  //   try {  \n  //     let sheet = this.getSheet()        \n  //     sheet.deleteRule(index) // todo - correct index here     \n  //     sheet.insertRule(rule, index)\n  //   }\n  //   catch(e) {\n  //     if(isDev) {\n  //       // might need beter dx for this \n  //       console.warn('whoops, problem replacing rule', rule) //eslint-disable-line no-console\n  //     }          \n  //   }          \n  // }\n  // replace(index, rule) {\n  //   if(isBrowser) {\n  //     if(this.isSpeedy && this.getSheet().insertRule) {\n  //       this._replace(index, rule)\n  //     }\n  //     else {\n  //       let _slot = Math.floor((index  + this.maxLength) / this.maxLength) - 1        \n  //       let _index = (index % this.maxLength) + 1\n  //       let tag = this.tags[_slot]\n  //       tag.replaceChild(document.createTextNode(rule), tag.childNodes[_index])\n  //     }\n  //   }\n  //   else {\n  //     let rules = this.sheet.cssRules\n  //     this.sheet.cssRules = [ ...rules.slice(0, index), { cssText: rule }, ...rules.slice(index + 1) ]\n  //   }\n  // }\n  delete: function _delete(index) {\n    // we insert a blank rule when 'deleting' so previously returned indexes remain stable\n    return this.replace(index, '');\n  },\n  flush: function flush() {\n    if (isBrowser) {\n      this.tags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n      });\n      this.tags = [];\n      this.sheet = null;\n      this.ctr = 0; // todo - look for remnants in document.styleSheets\n    } else {\n      // simpler on server \n      this.sheet.cssRules = [];\n    }\n\n    this.injected = false;\n  },\n  rules: function rules() {\n    if (!isBrowser) {\n      return this.sheet.cssRules;\n    }\n\n    var arr = [];\n    this.tags.forEach(function (tag) {\n      return arr.splice.apply(arr, [arr.length, 0].concat(_toConsumableArray(Array.from(sheetForTag(tag).cssRules))));\n    });\n    return arr;\n  }\n});","map":{"version":3,"sources":["D:/Projects/CZ3002-Lab-SmartLib/CZ3002_Xeon/Front-End/node_modules/glamor/lib/sheet.js"],"names":["Object","defineProperty","exports","value","StyleSheet","_objectAssign","require","_objectAssign2","_interopRequireDefault","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","last","sheetForTag","tag","sheet","document","styleSheets","ownerNode","isBrowser","window","isDev","process","env","NODE_ENV","isTest","oldIE","div","createElement","innerHTML","getElementsByTagName","makeStyleTag","type","setAttribute","appendChild","createTextNode","head","_ref","arguments","undefined","_ref$speedy","speedy","_ref$maxLength","maxLength","isSpeedy","tags","ctr","prototype","getSheet","inject","_this","injected","Error","cssRules","insertRule","rule","push","cssText","bool","_insert","indexOf","e","console","warn","insert","insertBefore","firstChild","delete","_delete","index","replace","flush","forEach","parentNode","removeChild","rules","splice","apply","concat"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StyleSheet = StyleSheet;\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/* \n\nhigh performance StyleSheet for css-in-js systems \n\n- uses multiple style tags behind the scenes for millions of rules \n- uses `insertRule` for appending in production for *much* faster performance\n- 'polyfills' on server side \n\n\n// usage\n\nimport StyleSheet from 'glamor/lib/sheet'\nlet styleSheet = new StyleSheet()\n\nstyleSheet.inject() \n- 'injects' the stylesheet into the page (or into memory if on server)\n\nstyleSheet.insert('#box { border: 1px solid red; }') \n- appends a css rule into the stylesheet \n\nstyleSheet.flush() \n- empties the stylesheet of all its contents\n\n\n*/\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    return tag.sheet;\n  }\n\n  // this weirdness brought to you by firefox \n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      return document.styleSheets[i];\n    }\n  }\n}\n\nvar isBrowser = typeof window !== 'undefined';\nvar isDev = process.env.NODE_ENV === 'development' || !process.env.NODE_ENV; //(x => (x === 'development') || !x)(process.env.NODE_ENV)\nvar isTest = process.env.NODE_ENV === 'test';\n\nvar oldIE = function () {\n  if (isBrowser) {\n    var div = document.createElement('div');\n    div.innerHTML = '<!--[if lt IE 10]><i></i><![endif]-->';\n    return div.getElementsByTagName('i').length === 1;\n  }\n}();\n\nfunction makeStyleTag() {\n  var tag = document.createElement('style');\n  tag.type = 'text/css';\n  tag.setAttribute('data-glamor', '');\n  tag.appendChild(document.createTextNode(''));\n  (document.head || document.getElementsByTagName('head')[0]).appendChild(tag);\n  return tag;\n}\n\nfunction StyleSheet() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$speedy = _ref.speedy,\n      speedy = _ref$speedy === undefined ? !isDev && !isTest : _ref$speedy,\n      _ref$maxLength = _ref.maxLength,\n      maxLength = _ref$maxLength === undefined ? isBrowser && oldIE ? 4000 : 65000 : _ref$maxLength;\n\n  this.isSpeedy = speedy; // the big drawback here is that the css won't be editable in devtools\n  this.sheet = undefined;\n  this.tags = [];\n  this.maxLength = maxLength;\n  this.ctr = 0;\n}\n\n(0, _objectAssign2.default)(StyleSheet.prototype, {\n  getSheet: function getSheet() {\n    return sheetForTag(last(this.tags));\n  },\n  inject: function inject() {\n    var _this = this;\n\n    if (this.injected) {\n      throw new Error('already injected stylesheet!');\n    }\n    if (isBrowser) {\n      this.tags[0] = makeStyleTag();\n    } else {\n      // server side 'polyfill'. just enough behavior to be useful.\n      this.sheet = {\n        cssRules: [],\n        insertRule: function insertRule(rule) {\n          // enough 'spec compliance' to be able to extract the rules later  \n          // in other words, just the cssText field \n          _this.sheet.cssRules.push({ cssText: rule });\n        }\n      };\n    }\n    this.injected = true;\n  },\n  speedy: function speedy(bool) {\n    if (this.ctr !== 0) {\n      throw new Error('cannot change speedy mode after inserting any rule to sheet. Either call speedy(' + bool + ') earlier in your app, or call flush() before speedy(' + bool + ')');\n    }\n    this.isSpeedy = !!bool;\n  },\n  _insert: function _insert(rule) {\n    // this weirdness for perf, and chrome's weird bug \n    // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n    try {\n      var sheet = this.getSheet();\n      sheet.insertRule(rule, rule.indexOf('@import') !== -1 ? 0 : sheet.cssRules.length);\n    } catch (e) {\n      if (isDev) {\n        // might need beter dx for this \n        console.warn('whoops, illegal rule inserted', rule); //eslint-disable-line no-console\n      }\n    }\n  },\n  insert: function insert(rule) {\n\n    if (isBrowser) {\n      // this is the ultrafast version, works across browsers \n      if (this.isSpeedy && this.getSheet().insertRule) {\n        this._insert(rule);\n      }\n      // more browser weirdness. I don't even know    \n      // else if(this.tags.length > 0 && this.tags::last().styleSheet) {      \n      //   this.tags::last().styleSheet.cssText+= rule\n      // }\n      else {\n          if (rule.indexOf('@import') !== -1) {\n            var tag = last(this.tags);\n            tag.insertBefore(document.createTextNode(rule), tag.firstChild);\n          } else {\n            last(this.tags).appendChild(document.createTextNode(rule));\n          }\n        }\n    } else {\n      // server side is pretty simple         \n      this.sheet.insertRule(rule, rule.indexOf('@import') !== -1 ? 0 : this.sheet.cssRules.length);\n    }\n\n    this.ctr++;\n    if (isBrowser && this.ctr % this.maxLength === 0) {\n      this.tags.push(makeStyleTag());\n    }\n    return this.ctr - 1;\n  },\n\n  // commenting this out till we decide on v3's decision \n  // _replace(index, rule) {\n  //   // this weirdness for perf, and chrome's weird bug \n  //   // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n  //   try {  \n  //     let sheet = this.getSheet()        \n  //     sheet.deleteRule(index) // todo - correct index here     \n  //     sheet.insertRule(rule, index)\n  //   }\n  //   catch(e) {\n  //     if(isDev) {\n  //       // might need beter dx for this \n  //       console.warn('whoops, problem replacing rule', rule) //eslint-disable-line no-console\n  //     }          \n  //   }          \n\n  // }\n  // replace(index, rule) {\n  //   if(isBrowser) {\n  //     if(this.isSpeedy && this.getSheet().insertRule) {\n  //       this._replace(index, rule)\n  //     }\n  //     else {\n  //       let _slot = Math.floor((index  + this.maxLength) / this.maxLength) - 1        \n  //       let _index = (index % this.maxLength) + 1\n  //       let tag = this.tags[_slot]\n  //       tag.replaceChild(document.createTextNode(rule), tag.childNodes[_index])\n  //     }\n  //   }\n  //   else {\n  //     let rules = this.sheet.cssRules\n  //     this.sheet.cssRules = [ ...rules.slice(0, index), { cssText: rule }, ...rules.slice(index + 1) ]\n  //   }\n  // }\n  delete: function _delete(index) {\n    // we insert a blank rule when 'deleting' so previously returned indexes remain stable\n    return this.replace(index, '');\n  },\n  flush: function flush() {\n    if (isBrowser) {\n      this.tags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n      });\n      this.tags = [];\n      this.sheet = null;\n      this.ctr = 0;\n      // todo - look for remnants in document.styleSheets\n    } else {\n      // simpler on server \n      this.sheet.cssRules = [];\n    }\n    this.injected = false;\n  },\n  rules: function rules() {\n    if (!isBrowser) {\n      return this.sheet.cssRules;\n    }\n    var arr = [];\n    this.tags.forEach(function (tag) {\n      return arr.splice.apply(arr, [arr.length, 0].concat(_toConsumableArray(Array.from(sheetForTag(tag).cssRules))));\n    });\n    return arr;\n  }\n});"]},"metadata":{},"sourceType":"script"}